vcpkg_from_github(
    OUT_SOURCE_PATH SOURCE_PATH
    REPO cnSchwarzer/ndi-sdk
    REF 803594f9eead8785b4e428d2adf919b0fa77381d
    SHA512 623e3d43999f62bc24bf6ef09bde2428a6c5538c81b3e9b22e135119a252918ad892e495b0b9de4a545e13600cbf909ac32e5b0737e3eb0d227cc44449bd3204
    HEAD_REF master
) 

file(INSTALL "${SOURCE_PATH}/Include/" DESTINATION "${CURRENT_PACKAGES_DIR}/include/ndi-sdk")

if(VCPKG_TARGET_ARCHITECTURE STREQUAL "x86" OR VCPKG_TARGET_ARCHITECTURE STREQUAL "x64") 

file(INSTALL "${SOURCE_PATH}/Bin/${VCPKG_TARGET_ARCHITECTURE}/" DESTINATION "${CURRENT_PACKAGES_DIR}/bin")
file(INSTALL "${SOURCE_PATH}/Lib/${VCPKG_TARGET_ARCHITECTURE}/" DESTINATION "${CURRENT_PACKAGES_DIR}/lib")

file(INSTALL "${SOURCE_PATH}/Bin/${VCPKG_TARGET_ARCHITECTURE}/" DESTINATION "${CURRENT_PACKAGES_DIR}/debug/bin")
file(INSTALL "${SOURCE_PATH}/Lib/${VCPKG_TARGET_ARCHITECTURE}/" DESTINATION "${CURRENT_PACKAGES_DIR}/debug/lib")

else() 
message(FATAL_ERROR "Architecture not supported.") 
endif()
  
file(REMOVE_RECURSE "${CURRENT_PACKAGES_DIR}/debug/include")
vcpkg_install_copyright(FILE_LIST "${SOURCE_PATH}/LICENSE.txt")